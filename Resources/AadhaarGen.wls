#!/usr/bin/env wolframscript
(* ::Package:: *)

(* ::Section:: *)
(*Command Line Stuff*)


aadhaarData=
<|"Dimensions"->
<|
"L"-><|
"Crop"->{{2192,2192+639},{124,124+998}},
"WhitePad"->{{30,0},{15,0}},
"BlackPad"->{{2,0},{2,0}}
|>,
"R"-><|
"Crop"->{{2192,2192+639},{1165,1165+998}},
"WhitePad"->{{30,0},{15,0}},
"BlackPad"->{{0,2},{2,0}}
|>
|>,
"Masks"->
<|
"L"-><|"Remove"->Uncompress@"1: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vbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAsSm8tqSkAAIBF6a0lNQUAALAovbWkpgAAABalt5bUFAAAwKL01pKaAgAAWJTeWlJTAAAAi9JbS2oKAABgUXprSU0BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlf/PLl5eVP33z31ftvXv/62Tffv75//fDrLz55+8Pf/vj965c/efvhu4+/+/yHr1+/+8XbD7/79utvP3zx93d/ef3ipx///Pe//a9/9OnbDx//Rx++fn33j6++ef+fv/njhx9e/w08r2MK","Photo"->{{135,384},{74,277}},"Title"->{{13,97},{287,860}}|>,
"R"-><|"Logo"->{{5,100},{89,241}},"Title"->{{5,89},{272,845}},"Remove"->Uncompress@"1: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m20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAKCbbQAAAAC62QYAAACgm20AAAAAutkGAAAAoJttAAAAALrZBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgBavvnl4ePjHh0/v3n54/Od3H355fPv49KdXXz3/w29//eXxzRfPf/j08nfff37/+OkPz3/4y8f3H59e/fz6x8dXX778879++z//0dfPf3j5P3p6//j6X+8+vP3vv/n70+fH/wCewFZq"|>
|>,
"Pads"->
<|
"L"-><|"Photo"->{{72,755},{274,133}},"Title"->{{286,171},{560,12}}|>,
"R"-><|"Logo"->{{6,790},{557,4}},"Title"->{{271,186},{568,4}}|>
|>,
"ContrastBrightness"-><|"Photo"->{{0,0},{0.1,0.2},{0.2,0.2},{0.2,0.3},{0.2,0.4}}|>
|>;

getImageAadhaar[decryptedPDF_]:=Module[{pdfStream,dirLoc,pdfName},
pdfStream=Import[decryptedPDF];
{dirLoc,pdfName}={DirectoryName[decryptedPDF],FileBaseName[decryptedPDF]};
Import@Export[FileNameJoin[{dirLoc,pdfName<>".png"}],pdfStream,ImageResolution->300]
];
cropAadhaar[originalImg_,data_,view_]:=Module[{imgCropped,imgWhitePadded},
imgCropped=ImageTake[originalImg,Sequence@@data[view]["Crop"]];
imgWhitePadded=ImagePad[imgCropped,data[view]["WhitePad"],White];
ImagePad[imgWhitePadded,data[view]["BlackPad"]]
];
applyMasks[img_,mask_]:=ImageMultiply[ColorNegate@img,mask]//ColorNegate;

aadharViews[decryptedPDF_,data_,contrast_:0,brightness_:0]:=Module[{img,croppedViews,maskedViews,photoL,titleL,imgL,LogoR,titleR,imgR},
img=getImageAadhaar[decryptedPDF];
croppedViews=<|"L"->cropAadhaar[img,data["Dimensions"],"L"],"R"->cropAadhaar[img,data["Dimensions"],"R"]|>;

photoL=ImageTake[croppedViews["L"],Sequence@@data["Masks"]["L"]["Photo"]]//ImageAdjust[#,{contrast,brightness}]&//ImagePad[#,data["Pads"]["L"]["Photo"],White]&;
titleL=ImageTake[croppedViews["L"],Sequence@@data["Masks"]["L"]["Title"]]//ImageAdjust[#,{0,0}]&//ImagePad[#,data["Pads"]["L"]["Title"],White]&;
imgL=ImageAdd[{ImageAdd[{ColorNegate@photoL,ColorNegate@titleL}],ColorNegate@ImageAdd[{croppedViews["L"],ColorNegate@data["Masks"]["L"]["Remove"]}]}]//ColorNegate;

LogoR=ImageTake[croppedViews["R"],Sequence@@data["Masks"]["R"]["Logo"]]//ImageAdjust[#,{0,0}]&//ImagePad[#,data["Pads"]["R"]["Logo"],White]&;
titleR=ImageTake[croppedViews["R"],Sequence@@data["Masks"]["R"]["Title"]]//ImageAdjust[#,{0,0}]&//ImagePad[#,data["Pads"]["R"]["Title"],White]&;
imgR=ImageAdd[{ImageAdd[{ColorNegate@LogoR,ColorNegate@titleR}],ColorNegate@ImageAdd[{croppedViews["R"],ColorNegate@data["Masks"]["R"]["Remove"]}]}]//ColorNegate;
<|"L"->imgL,"R"->imgR|> 
]

aadharViewsExport[decryptedPDF_,data_,contrast_,brightness_,fileNameAppend_]:=Module[{img,views,viewsDir,locationL,locationR},
views=aadharViews[decryptedPDF,data,contrast,brightness];
viewsDir=FileNameJoin[{DirectoryName[decryptedPDF],"views"}];
CreateDirectory[viewsDir]//Quiet;
Export[FileNameJoin[{viewsDir,"viewL"<>ToString@fileNameAppend<>".png"}],views["L"]];
Export[FileNameJoin[{viewsDir,"viewR"<>ToString@fileNameAppend<>".png"}],views["R"]];
];
aadharViewsExportAll[decryptedPDF_,data_]:=Module[{img,views,viewsDir,locationL,locationR},
MapIndexed[aadharViewsExport[decryptedPDF,data,#1[[1]],#1[[2]],#2[[1]]]&,data["ContrastBrightness"]["Photo"]]
]

templateTexAll=Uncompress@"1:eJy1VE2PmzAQ3VN/B6ttbxGNgTZZqbn12NP2GHIwzmCs+kvGbLKy/N9rA0nYbKRKqeCC583Xmzfgx0q9/P7x6eEhCU+5RFlZ7hXpBEhLOG5bh41lhIMffF0LGpM/mIKjBuuGkePgufZi0Qpsm0USDrYR/bt9E5VPrkO3GmswDTDa2A1C6RoxueixA9vbZrNK16s8QFbpzTJdrtbhXClrlQhmjOVQ23DMnp+DYfoywVoxuXMUlABr3k5ddegnO1GBYZI6qqrq1mRHorgyH/GaK2w/wpIQYpSu1HFxQ5MRanVQw7nPrwwO7U9mvvpJTAWUSXfSfeKQcCBKCCz3rixJHVr4bbZzX6K3X1jZU+VgHemMiUvrqbvUn2PcGOSekJ8kxmJn17vkp8wPgWciyYlizWhnwG8fG1vp3YRFSO41vUAtWA6ShqGHXkEv75baTjlE2TgLQ8ZFO6Sno78GxQg4BMKPCWXJJOHdHk6Sbvu8ZJPkaZEXYfnJ8BUFJEvR9yJ+AVHvXyjVkvpL36ZmnF/MO8u+XMrepPzftLNpfTShfT/lbGbK+TxK5zPTLuahXfyb9v2cv83D+boshLtn/O3HqyAi7+6q5C/K0hq6";

templateTex=Uncompress@"1:eJydUslu2zAQDZAfUZD2ZqiWbMTOwbceixySo2WgJD2iiHIDRcUOCP57h5QXZemlupDz3nCW93RHzfPL79ubmwK/Zl7VTbM3bFCgPZOk7wNxXjAJceSGHixhfwiHwB2xnWDHkfnIEtUr4rtZgRffqXz2b4rG4mPq1hILrgPBO7+pqnJdCT3L2EHsfbdZlevVAiFv7GZezldrvFPjvVEYplwJrcdr/fiIgctlMFoJvQscjALv3s5dLfbTg6LghOaBG0q/2uzIjDTuM95KQ/xnWDPGnLHUHGdfaHKCeotqhPDtVcCh/yncjzjJocCFDmfdJ4SGAzNKEb0PTcNabBG39S58T2w2rMmjSvCBDc4l0/LooYyXnHBKCvdVnDxMxS7Uu8f3dRwTL4MU5xFbwQcHcXvXeWp3kynwcdb0CvXgJWiOS4+9UK8Y5tZPZ0iySYFLJqNDZcfVMyU0k8Mezuptc0qxKRblcrFEn4vxh0GkLquHZTI7SfsrC/w0qNJqHq+dulZIeQ3/s/rzP6oD+nOS5iRXQt75WfwFSLYvgw==";

generateTexAll[texLocation_]:=Module[{content},
content=StringReplace[templateTexAll,{"$viewsDir"->StringReplace[FileNameJoin[{texLocation,"views"}],"\\"->"/"]}];
Export[FileNameJoin[{texLocation,"buildAadhaarAll.tex"}],content,"Text"]
]
generateTex[texLocation_,viewNum_]:=Module[{content},
content=StringReplace[templateTex,{"$viewsDir"->StringReplace[FileNameJoin[{texLocation,"views"}],"\\"->"/"],"$viewNum"->ToString@viewNum}];
Export[FileNameJoin[{texLocation,"buildAadhaar.tex"}],content,"Text"]
]

runTexAll[texLocation_]:=
Module[{outputDir},
outputDir=FileNameJoin[{texLocation,"output"}];
CreateDirectory[outputDir]//Quiet;
RunProcess[{"pdflatex.exe",StringReplace["-output-directory=$outputDIR","$outputDIR"->outputDir],FileNameJoin[{texLocation,"buildAadhaarAll.tex"}]}];
]
runTex[texLocation_]:=
Module[{outputDir},
outputDir=FileNameJoin[{texLocation,"output"}];
CreateDirectory[outputDir]//Quiet;
RunProcess[{"pdflatex.exe",StringReplace["-output-directory=$outputDIR","$outputDIR"->outputDir],FileNameJoin[{texLocation,"buildAadhaar.tex"}]}];
]

generatePDF[texLocation_,viewNum_]:=Module[{},
generateTex[texLocation,viewNum];
runTex[texLocation]
]
generatePDFAll[texLocation_]:=Module[{},
generateTexAll[texLocation];
runTexAll[texLocation]
]

aadharAll[decryptedPDF_]:=Module[{},
Print["Aadhar views are being generated..."];
aadharViewsExportAll[decryptedPDF,aadhaarData];
Print["Aadhar views are generated..."];
Print["Starting to generate PDF"];
generatePDFAll[DirectoryName[decryptedPDF]];
Print["Finished!"];
(*SystemOpen[File@FileNameJoin[{DirectoryName[decryptedPDF],"output","buildAadhaarAll.pdf"}]];*)
];
aadhar[decryptedPDF_,viewNum_]:=Module[{},
Print["Starting to generate PDF"];
generatePDF[DirectoryName[decryptedPDF],viewNum];
Print["Finished!"];
]

decryptedPDFPath=FileNameJoin[{Directory[],$ScriptCommandLine[[2]]}];
(*Print[decryptedPDFPath];*)

If[$ScriptCommandLine[[3]]=="all",
aadharAll[decryptedPDFPath];
]

If[$ScriptCommandLine[[3]] == "1" || $ScriptCommandLine[[3]] == "2" || $ScriptCommandLine[[3]] == "3" || $ScriptCommandLine[[3]] == "4" || $ScriptCommandLine[[3]] == "5",
aadhar[decryptedPDFPath, $ScriptCommandLine[[3]]];
Print["Single File Running!"];
]
